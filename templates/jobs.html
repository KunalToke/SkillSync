{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2 class="page-title">üöÄ Job Alerts</h2>

    <!-- Search & Filter -->
    <form method="get" class="filter-form">
        <input type="text" name="search" placeholder="üîç Search jobs..." value="{{ request.args.get('search', '') }}">
        <select name="category">
            <option value="">All Categories</option>
            {% for cat in categories %}
                <option value="{{ cat }}" {% if request.args.get('category') == cat %}selected{% endif %}>{{ cat }}</option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
    </form>

    <!-- Job Listings -->
    <div class="job-grid">
        {% for job in jobs %}
        <div class="job-card">
            <h3>{{ job.title }}</h3>
            <p><strong>Company:</strong> {{ job.company }}</p>
            <p><strong>Location:</strong> {{ job.location }}</p>
            <p><strong>Category:</strong> {{ job.category }}</p>
            <a href="{{ job.link }}" target="_blank" class="apply-btn">Apply Now</a>
        </div>
        {% endfor %}
        {% if jobs|length == 0 %}
        <p class="no-results">‚ùå No jobs found. Try a different search.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
